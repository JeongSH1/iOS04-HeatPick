# iOS04 - HeatPick🔥

- [HeatPick🔥 설치하기](https://hogumachu.github.io/articles/heatpick/)
  
## ⭐️ 프로젝트 소개
<p align="center">
    <img src="https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/724d9780-54f2-4632-83bb-05ebe1a1088e" width=20% />
</p>

<p align="center">
    여러분이 머문 자리에 따뜻한 온기를 남겨보세요 <br> 위치기반 SNS 서비스<br>
    <br>
    <i>네이버 부스트캠프 웹・모바일 8기 그룹 프로젝트<br>
    2023.11.06 ~ 2023.12.15</i>
</p>
 
 
 ![MVP](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/b70d0619-1218-4233-ad26-933447e238de)


## 🧑🏻‍💻 HeatPick 팀원 소개
| 🍎 iOS | 🍎 iOS | 🍎 iOS | 🌐 Backend | 🌐 Backend |
| :--: | :--: | :--: | :--: | :--: |
| S029_이준복 | S031_임정민 | S042_홍성준 | J138_정세호 | J154_최검기 |
| <a href="https://github.com/junbok97"><img src="https://avatars.githubusercontent.com/u/71696675?v=4" width="100"></a> | <a href="https://github.com/jungmin-lim"><img src="https://avatars.githubusercontent.com/u/32038936?v=4" width="100"></a> | <a href="https://github.com/hogumachu"><img src="https://avatars.githubusercontent.com/u/74225754?v=4" width="100"></a>| <a href="https://github.com/JeongSH1"><img src="https://avatars.githubusercontent.com/u/125888614?v=4" width="100"></a> | <a href="https://github.com/cgg7777"><img src="https://avatars.githubusercontent.com/u/51906365?v=4" width="100"></a> |
| [junbok97](https://github.com/junbok97) | [jungmin-lim](https://github.com/jungmin-lim) | [hogumachu](https://github.com/hogumachu) | [JeongSH1](https://github.com/JeongSH1) | [cgg7777](https://github.com/cgg7777) |

## 주요 기능 소개

### 위치 기반 추천
> 현재 위치를 기반으로 사용자와 스토리를 추천해줍니다.

![위치기반](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/80e0ffb0-796d-40bb-bb14-7ffa85ef0e32)


## 위치 기반 글 작성
> 원하는 위치에서 스토리를 작성합니다

![글작성](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/7413995f-17cc-4014-88d5-7db243b49fe4)


## 댓글 작성
> 스토리에 댓글을 작성합니다.

![댓글쓰기](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/efd740e4-5840-4f9b-99b8-58c0cc65d108)

## 검색
> 원하는 키워드로 검색합니다.

![search](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/32038936/05d8968d-8f22-4d0c-97d8-6ba8c6d172fe)

## 클러스터링
> 지도에서 스토리목록을 클러스터링 합니다.

![clustering](https://github.com/boostcampwm2023/iOS04-HeatPick/assets/32038936/30547f63-76fd-4dd3-a674-3f98ed7cbcd8)


## 📔 문서

HeatPick의 상세한 개발 일지를 확인하고 싶다면 ?? <br>
HeatPick Wiki를 확인해보세요 !!
| 📑 [HeatPick Wiki](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki) | 🎨 [앱 디자인](https://www.figma.com/file/sKuM4zMuSVKnHoZzEppqOV/%EB%B6%80%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%94%84-%EA%B7%B8%EB%A3%B9-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8?type=design&node-id=0%3A1&mode=design&t=SIloOfX3kCUMJh6u-1) | 📝 [API](https://junbok97.notion.site/junbok97/HeatPick-API-5773319977624e3f898bc3952ed6080e) |
| :--: | :--: | :--: | 



## 🛠️ 기술 스택
- [🔗 Wiki 기술 스택 소개](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%EA%B8%B0%EC%88%A0-%EC%8A%A4%ED%83%9D-%EC%86%8C%EA%B0%9C)

<img src = https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/4b500dfe-0558-477f-abef-4272e7d1acdd>

## 아키텍쳐
### 🍎 iOS
<img src = "https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/3ddb9978-776b-4e8f-968e-5eebaeff9c5b">


### 🌐 Backend 
<img src = "https://github.com/boostcampwm2023/iOS04-HeatPick/assets/71696675/ce35b3c8-6855-4c56-94a8-d537b919db36">

## 🤔 기술 선택 과정
### 🍎 iOS
- [Architecture 선택 과정](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EB%A1%9D%5D-iOS-Architecture-%EC%84%A0%ED%83%9D-%EA%B3%BC%EC%A0%95)
- [Tuist 선택 과정](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B%EC%9D%98%EC%82%AC%EA%B2%B0%EC%A0%95%EB%A1%9D%5D-Tuist)
- [빠르게 빠르게 vs 깊게](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B의사결정록%5D-iOS-개발-빠르게-빠르게-vs-깊게)
- [모듈화](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B의사결정록%5D-모듈화)

### 🌐 Backend 
- [DB 선택 과정](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/DB-%EC%84%A0%ED%83%9D-%EA%B3%BC%EC%A0%95)
- [TypeORM 선택 이유](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/ORM%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%9D%B4%EC%9C%A0)
- [Docker 선택 이유](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/Docker%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%9D%B4%EC%9C%A0)
- [Github Action 선택 이유](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/Github-Action%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%9D%B4%EC%9C%A0)
- [DB서버와 서비스 서버를 분리한 이유](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%84%9C%EB%B2%84%EC%99%80-DB-%EC%84%9C%EB%B2%84%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%9C-%EC%9D%B4%EC%9C%A0)
- [자동완성을 위한 Trie 구조를 제거하고, naver cloud search로 대체한 이유](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-Trie-%EA%B5%AC%EC%A1%B0%EB%A5%BC-%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B3%A0,-naver-cloud-search%EB%A1%9C-%EB%8C%80%EC%B2%B4%ED%95%9C-%EC%9D%B4%EC%9C%A0)



## 🏃🏻 기술적 도전

### 배포 및 자동화
개발을 진행하는 과정에서 iOS-server 간 개발속도의 차이로 인한 불편함을 체감하였습니다.
따라서 서버의 개발이 완료되는 즉시 iOS측에서 테스트할 수 있는 환경을 마련하는 것이 필요하다고 생각하였고
배포 및 자동화를 최우선 순위로 설정하여 진행하였습니다.
* [SSH Tunneling](https://jolly-restaurant-d2f.notion.site/SSH-f87fdf38092845b7a0c6b9741ff8f1f9?pvs=4)
* [Docker, Github Action](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/Docker%EC%99%80-Github-Action%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%84%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)
* [Nginx Https](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/Nginx%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%84%9C-HTTPS-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0)

### ORM
ORM은 쿼리를 직접 작성할 필요가 없어서 분명 편리하지만 동작 방식에 대해 분명히 이해하고 있어야 효과적으로 사용할 수 있었습니다. 
프로젝트를 진행하면서, ORM 내에서 Transaction을 직접 제어할 필요가 있었고, Cascade 속성을 통해 부모의 상태 변화에 따른 자식의 영향, lazy-loading을 이용해 발생한 N+1문제와 성능 개선, 복잡한 쿼리를 제어하기 위해 사용한 Query Builder도 수행해 보았습니다.
  * [Transaction](https://jolly-restaurant-d2f.notion.site/TypeORM-Transaction-bc4813ae5f28419e9a19cbb548165d39?pvs=4)
  * [Cascade](https://jolly-restaurant-d2f.notion.site/TypeORM-Cascade-bd8f872c4d054c58b3ade31adb12183a?pvs=4)
  * [lazy-loading](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/TypeORM-%E2%80%90-Lazy-Loading)
  * [Query-Builder](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/TypeORM-%E2%80%90-Query-Builder)


### 푸시 서비스
저희 프로젝트에서 알림 서비스를 도입을 위해 Firebase Cloud Messaging을 사용했고 푸시 요청을 책임지는 푸시 서버를 만들어 서비스 했습니다. 푸시 서버를 만들면서 푸시 요청의 흐름에 대해 학습할 수 있었고, 별도로 Message Queue 패턴을 학습하고 실제 적용해보며, 비동기적으로 작업하고, 시스템 장애에 따른 메세지 소실이 없도록 하기 위해서 해당 프로젝트에 적용하여 수행하였습니다.
* [푸시서버 - 1](https://jolly-restaurant-d2f.notion.site/1-aa4d006da0e743ed91fb417dd868e5f6?pvs=4)
* [푸시서버 - 2](https://jolly-restaurant-d2f.notion.site/2-4face9d0445743c1abe45caee63f3a7d?pvs=4)

## 🫠 트러블 슈팅
### 1주차
- [NaverLogin-SDK-iOS SPM 미지원 이슈](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-NaverLogin-SDK-iOS-SPM-%EB%AF%B8%EC%A7%80%EC%9B%90-%EC%9D%B4%EC%8A%88)
- [홍성준 - 힛픽팀의 아키텍처 구조](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B1%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80)
- [홍성준 - 생산성 있는 네트워크](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B1%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80-(%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC))

### 2주차
- [홍성준 - 모듈 템플릿](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B2%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80)
- [이준복 - NaverMap-SDK-iOS SPM만들기](https://junbok97.tistory.com/314)
- [정세호, 최검기 - BE 이미지 처리](https://jolly-restaurant-d2f.notion.site/NestJS-c8af499ca65846ae88794095f9f78e40?pvs=4)

### 3주차
- [임정민 - multipart/form-data](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/임정민-%E2%80%90-multipart-form%E2%80%90data)
- [홍성준 - 네트워크 요청](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B3%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80)
- [최검기 - Exception Filter, Slack 알림](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%EC%B5%9C%EA%B2%80%EA%B8%B0-%E2%80%90-Exception-Filter-&-Slack-Notification)
### 4주차
- [홍성준 - 인증 토큰 에러](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B4%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80)
- [이준복 - s의 중요성](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B4%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%EC%9D%B4%EC%A4%80%EB%B3%B5-%E2%80%90-s%EC%9D%98-%EC%A4%91%EC%9A%94%EC%84%B1)

### 5주차
- [홍성준 - Swipe Back](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B5%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80)
- [홍성준 - 클러스터링](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B5%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%ED%99%8D%EC%84%B1%EC%A4%80-(%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A7%81))
- [정세호 - Push Server-1](https://jolly-restaurant-d2f.notion.site/1-aa4d006da0e743ed91fb417dd868e5f6?pvs=4)
- [정세호 - Push Server-2](https://jolly-restaurant-d2f.notion.site/2-4face9d0445743c1abe45caee63f3a7d?pvs=4)
- [이준복 - 백엔드 지식의 중요성](https://github.com/boostcampwm2023/iOS04-HeatPick/wiki/%5B5%EC%A3%BC%EC%B0%A8-%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85%5D-%EC%9D%B4%EC%A4%80%EB%B3%B5-%E2%80%90-%EB%B0%B1%EC%97%94%EB%93%9C-%EC%A7%80%EC%8B%9D%EC%9D%98-%EC%A4%91%EC%9A%94%EC%84%B1)